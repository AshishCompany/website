{{ define "header_content" }}
<div class="header-background"></div>
<div class="content-grid">
    <div class="item -span2">
        {{ partial "components/tutorial-breadcrumbs" . }}
        {{ partial "components/tutorial-title" . }}
    </div>
    {{ with (.Resources.GetMatch "banner") }}
    <div class="item -span4">
        <img loading="lazy" src="{{ .Permalink }}" alt="{{ .Name }}" class="side-image card-box -tophalf">
    </div>
    {{ end }}
</div>
{{ end }}


{{ define "main" }}
<section class="content-grid content-container">
    <div class="item -span2 -mobileunmargin">
        {{ partial "components/nav-tutorial" .CurrentSection }}
    </div>

    <div class="item -span4">
        <div class="card-box -bottomhalf ">
            <div class="padding-tiny">
                {{ .Content }}
            </div>

            <hr>
            <!-- chapter title -->
            <div class="padding-tiny">
                <p>{{ .Description | markdownify }}</p>

                <!-- Video list -->
                <ol class="collection">
                    {{ range ( where .Sections "Type" "course_chapter" ) }}
                    <h2 id="{{ replace .Params.title " " "-" }}" class="_unmargin"> {{ .Params.title }} </h2>
                    {{ range ( where .RegularPages "Type" "video" ).ByDate }}
                    <li class="item">
                        {{ if (isset .Params "videoid") }}
                        <a href="{{ .Permalink }}">{{ .Title }}</a>
                        {{ else }}
                        {{ .Title }} <span data-font="dimmed">Upcoming</span>
                        {{ end }}

                        {{ if or (isset . "document") (isset . "exercise") }}
                        <span>
                            {{ if isset . "document" }}
                            <a href="{{ .document }}"><i class="fa fa-book"></i></a>
                            {{ end }}
                            {{ if isset . "exercise" }}
                            <a href="{{ .exercise }}"><i class="fa fa-file"></i></a>
                            {{ end }}
                        </span>
                        {{ end }}
                    </li>
                    {{ end }}
                    {{ end }}
                </ol>
            </div>
        </div>
    </div>
</section>

<section id="related" class="content-container padding-v-base">
    <h2 data-font="centered">Related products</h2>
    <div class="content-grid">
        {{ range first 2 (where .Site.RegularPages "Section" "product") }}
        <div class="item">
            {{ .Render "summary" }}
        </div>
        {{ end }}
    </div>

    <div data-font="centered" class="padding-top-base">
        <a href="/product" class="button-link">View all</a>
    </div>
    <div class="content-grid">
        <div class="item -center margin-top-base">
            {{ partial "modules/author" . }}
        </div>
    </div>
</section>
{{ end }}
