<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Content Manager</title>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
  <script type="text/javascript">
   // The code below adds hugo shortcodes: youtube, figure, and twitter
   CMS.registerEditorComponent({id:"youtube",label:"Youtube",fields:[{name:"id",label:"Youtube Video ID",widget:"string"}],pattern:/{{< youtube ([a-zA-Z0-9]+) >}}/,fromBlock:function(match){return{id:match[1]}},toBlock:function(obj){return `{{< youtube ${obj.id } >}}`},toPreview:function(obj){return `<img src="http://img.youtube.com/vi/${obj.id }/maxresdefault.jpg" alt="Youtube Video"/>`}});CMS.registerEditorComponent({id:"figure",label:"Figure",fields:[{name:"title",label:"Figure Title",widget:"string"},{name:"src",label:"Figure SRC",widget:"string"}],pattern:/{{< figure src="([a-zA-Z0-9-_ ]+)" title="([a-zA-Z0-9-_ ]+)" >}}/,fromBlock:function(match){return{title:match[1],src:match[2]}},toBlock:function(obj){return `{{< figure src="${obj.src }" title="${obj.title }" >}}`},toPreview:function(obj){return `<figure><img src=${obj.src } alt=${obj.title }><figcaption>${obj.title }</figcaption></figure>`}});CMS.registerEditorComponent({id:"twitter",label:"Twitter",fields:[{name:"tid",label:"Tweet id",widget:"string"}],pattern:/{{< tweet ([a-zA-Z0-9]+) >}}/,fromBlock:function(match){return{tid:match[1]}},toBlock:function(obj){return `{{< tweet ${obj.tid } >}}`},toPreview:function(obj){return `{{< tweet ${obj.tid } >}}`}});
  </script>
</body>
</html>
